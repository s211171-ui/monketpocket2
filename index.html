<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monkey Pocket - 魔法百宝袋</title>
  <!-- 引入外部资源 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- 配置Tailwind -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            monkey: {
              yellow: '#FFD700',
              dark: '#121212',
              darker: '#0A0A0A',
              blue: '#165DFF',
              gray: '#333333',
              lightgray: '#666666',
              green: '#10B981',
              red: '#EF4444'
            },
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
            noto: ['"Noto Sans HK"', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <!-- 自定义样式 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
      }
      .glow {
        box-shadow: 0 0 15px rgba(22, 93, 255, 0.5);
      }
      .glow-green {
        box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
      }
      .monkey-bg {
        background: radial-gradient(circle at center, #1A1A1A 0%, #0A0A0A 100%);
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .border-gradient {
        border-image: linear-gradient(45deg, #FFD700, #165DFF) 1;
      }
    }
  </style>
  
  <!-- 导入字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+HK:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>

<body class="font-inter bg-monkey-darker text-white min-h-screen flex flex-col monkey-bg">
  <!-- 语言切换 -->
  <div class="fixed top-4 right-4 z-50">
    <div class="flex space-x-2 bg-monkey-gray/80 backdrop-blur-md rounded-full p-1 border border-monkey-gray/50">
      <button id="langEN" class="lang-btn px-3 py-1 rounded-full text-sm font-medium bg-monkey-blue text-white transition-all">EN</button>
      <button id="langZH" class="lang-btn px-3 py-1 rounded-full text-sm font-medium text-gray-300 hover:text-white transition-all">中文</button>
    </div>
  </div>

  <!-- 导航栏 -->
  <header id="navbar" class="fixed w-full z-40 transition-all duration-300 bg-monkey-darker/95 backdrop-blur-md border-b border-monkey-gray/30">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <!-- 品牌Logo -->
        <div class="flex items-center space-x-2">
          <div class="w-10 h-10 rounded-full bg-monkey-yellow flex items-center justify-center">
            <span class="text-monkey-darker font-bold text-xl">MK</span>
          </div>
          <span class="text-2xl font-bold text-shadow">Monkey <span class="text-monkey-yellow">Pocket</span></span>
        </div>
        
        <!-- 导航链接 - 桌面端 -->
        <nav class="hidden md:flex items-center space-x-8">
          <a href="#activate" class="text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navActivate">激活设备</a>
          <a href="#items" class="text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navItems">我的物品</a>
          <a href="#storage" class="text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navStorage">购买存储格</a>
          <a href="#retrieve" class="text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navRetrieve">远程取物</a>
          <a href="#about" class="text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navAbout">关于我们</a>
        </nav>
        
        <!-- 移动端菜单按钮 -->
        <button id="menuBtn" class="md:hidden text-gray-300 hover:text-monkey-yellow transition-colors">
          <i class="fa fa-bars text-2xl"></i>
        </button>
      </div>
    </div>
    
    <!-- 移动端导航菜单 -->
    <div id="mobileMenu" class="md:hidden hidden bg-monkey-gray/95 backdrop-blur-lg border-b border-monkey-gray/50">
      <div class="container mx-auto px-4 py-3 space-y-3">
        <a href="#activate" class="block py-2 text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navActivate">激活设备</a>
        <a href="#items" class="block py-2 text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navItems">我的物品</a>
        <a href="#storage" class="block py-2 text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navStorage">购买存储格</a>
        <a href="#retrieve" class="block py-2 text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navRetrieve">远程取物</a>
        <a href="#about" class="block py-2 text-gray-300 hover:text-monkey-yellow transition-colors duration-300" data-i18n="navAbout">关于我们</a>
      </div>
    </div>
  </header>

  <!-- 英雄区域 -->
  <section class="pt-32 pb-20 md:pt-40 md:pb-28 relative overflow-hidden">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-12 md:mb-0">
          <h1 class="text-[clamp(2.5rem,5vw,4rem)] font-extrabold leading-tight mb-6" data-i18n="heroTitle">
            你的<span class="text-monkey-yellow text-shadow">魔法</span>百宝袋
          </h1>
          <p class="text-lg md:text-xl text-gray-300 mb-8 max-w-lg" data-i18n="heroDescription">
            Monkey Pocket - 现代版哆啦A梦百宝袋。通过指纹验证，随时随地存取您的个人物品。
          </p>
          <div class="flex flex-col sm:flex-row gap-4">
            <a href="#activate" class="bg-monkey-blue hover:bg-monkey-blue/90 text-white font-semibold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 glow">
              <span data-i18n="heroButton1">开始激活</span>
            </a>
            <a href="#retrieve" class="bg-transparent border-2 border-monkey-yellow text-monkey-yellow hover:bg-monkey-yellow/10 font-semibold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105">
              <span data-i18n="heroButton2">远程取物</span>
            </a>
          </div>
        </div>
        
        <!-- 产品展示 -->
        <div class="md:w-1/2 flex justify-center">
          <div class="relative w-full max-w-md">
            <!-- 袋子图片 -->
            <div class="relative z-10 rounded-2xl overflow-hidden transform transition-all duration-500 hover:scale-105 shadow-2xl glow">
              <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Monkey Pocket Bag" class="w-full h-auto rounded-2xl">
              
              <!-- 叠加的UI元素 -->
              <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex flex-col justify-between p-6">
                <!-- 猴子Logo -->
                <div class="flex justify-center mt-4">
                  <div class="w-20 h-20 rounded-full bg-monkey-yellow/90 flex items-center justify-center border-4 border-white/30">
                    <div class="relative">
                      <!-- 呆毛MK -->
                      <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 flex items-center">
                        <span class="text-monkey-darker font-bold text-lg">M</span>
                        <span class="text-monkey-darker font-bold text-lg -ml-1">K</span>
                      </div>
                      <!-- 猴子脸 -->
                      <div class="w-12 h-12 rounded-full bg-monkey-darker flex flex-col items-center justify-center">
                        <div class="flex space-x-1 mb-1">
                          <div class="w-2 h-2 rounded-full bg-white"></div>
                          <div class="w-2 h-2 rounded-full bg-white"></div>
                        </div>
                        <div class="w-4 h-3 rounded-full bg-monkey-blue"></div>
                        <!-- 口水 -->
                        <div class="w-1 h-3 bg-blue-300/80 rounded-full mt-1"></div>
                      </div>
                      <!-- 皇冠 -->
                      <div class="absolute -top-2 left-1/2 transform -translate-x-1/2 w-8 h-3 bg-yellow-500 rounded-t-full flex items-center justify-center">
                        <div class="flex space-x-1">
                          <div class="w-1 h-2 bg-yellow-400 rounded-t"></div>
                          <div class="w-2 h-3 bg-yellow-400 rounded-t"></div>
                          <div class="w-1 h-2 bg-yellow-400 rounded-t"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- 设备状态 -->
                <div class="bg-black/80 backdrop-blur-sm rounded-lg p-2 border border-monkey-blue/50">
                  <div class="bg-gray-900 rounded-md p-1 h-24 overflow-hidden">
                    <div class="text-xs text-gray-400 mb-1" data-i18n="deviceStatus">Monkey Pocket 状态</div>
                    <div class="flex items-center mb-1">
                      <span class="text-xs text-gray-300 w-16" data-i18n="deviceConnected">已连接:</span>
                      <span class="text-xs text-green-400" data-i18n="yes">是</span>
                    </div>
                    <div class="flex items-center mb-1">
                      <span class="text-xs text-gray-300 w-16" data-i18n="deviceStorage">存储格:</span>
                      <span class="text-xs text-white"><span id="storageSlotsUsed">0</span>/<span id="storageSlotsTotal">15</span></span>
                    </div>
                    <div class="flex items-center">
                      <span class="text-xs text-gray-300 w-16" data-i18n="deviceBattery">电量:</span>
                      <span class="text-xs text-white">85%</span>
                    </div>
                  </div>
                </div>
                
                <!-- 指纹解锁区 -->
                <div class="flex justify-center mb-4">
                  <div class="w-12 h-12 rounded-full bg-monkey-gray border-2 border-monkey-yellow/50 flex items-center justify-center cursor-pointer hover:border-monkey-yellow transition-colors">
                    <i class="fa fa-fingerprint text-monkey-yellow text-xl"></i>
                  </div>
                </div>
                
                <!-- Made by标识 -->
                <div class="text-center text-xs text-gray-500 mb-2">
                  Made by Monkey Kingdom
                </div>
              </div>
            </div>
            
            <!-- 装饰元素 -->
            <div class="absolute -top-6 -right-6 w-24 h-24 bg-monkey-blue/20 rounded-full blur-3xl"></div>
            <div class="absolute -bottom-8 -left-8 w-32 h-32 bg-monkey-yellow/10 rounded-full blur-3xl"></div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 背景装饰 -->
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-monkey-blue/5 rounded-full blur-3xl"></div>
    <div class="absolute top-1/4 right-1/4 w-[400px] h-[400px] bg-monkey-yellow/5 rounded-full blur-3xl"></div>
  </section>

  <!-- 激活设备区域 -->
  <section id="activate" class="py-20 bg-monkey-dark">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold mb-4" data-i18n="activateTitle">激活你的<span class="text-monkey-yellow">Monkey Pocket</span></h2>
        <p class="text-gray-400 max-w-2xl mx-auto" data-i18n="activateDescription">请按照以下两个步骤完成设备激活</p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- 步骤1：激活码激活 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 rounded-full bg-monkey-blue flex items-center justify-center mr-4">
              <span class="text-white font-bold">1</span>
            </div>
            <h3 class="text-xl font-semibold" data-i18n="activateStep1">输入激活码</h3>
          </div>
          
          <div class="space-y-4">
            <p class="text-sm text-gray-400" data-i18n="activateStep1Desc">请在您的Monkey Pocket包装盒内找到激活码卡片，输入下方以激活您的设备。</p>
            
            <div id="activationForm">
              <div class="mb-4">
                <label for="activationCode" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="activateCodeLabel">激活码</label>
                <input type="text" id="activationCode" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-3 text-white focus:outline-none focus:border-monkey-blue transition-colors" placeholder="例如: MK-7890-ABCD-1234" maxlength="19">
                <p class="text-xs text-gray-500 mt-1" data-i18n="activateCodeHint">激活码格式: MK-XXXX-XXXX-XXXX (X为字母或数字)</p>
              </div>
              
              <button id="activateDeviceBtn" class="w-full bg-monkey-blue hover:bg-monkey-blue/90 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] glow">
                <span data-i18n="activateButton">激活设备</span>
              </button>
            </div>
            
            <div id="activationSuccess" class="hidden bg-monkey-green/20 border border-monkey-green/50 rounded-lg p-4 mt-4">
              <div class="flex items-start">
                <i class="fa fa-check-circle text-monkey-green text-xl mt-1 mr-3"></i>
                <div>
                  <h4 class="font-medium text-monkey-green" data-i18n="activateSuccessTitle">激活成功!</h4>
                  <p class="text-sm text-gray-300 mt-1" data-i18n="activateSuccessDesc">您的Monkey Pocket已成功激活。请继续步骤2以完成设置。</p>
                </div>
              </div>
            </div>
            
            <div id="activationError" class="hidden bg-monkey-red/20 border border-monkey-red/50 rounded-lg p-4 mt-4">
              <div class="flex items-start">
                <i class="fa fa-times-circle text-monkey-red text-xl mt-1 mr-3"></i>
                <div>
                  <h4 class="font-medium text-monkey-red" data-i18n="activateErrorTitle">激活失败</h4>
                  <p class="text-sm text-gray-300 mt-1" id="activationErrorMsg">激活码无效或已被使用。请检查后重试。</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 步骤2：IP地址绑定与实名认证 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 rounded-full bg-monkey-yellow flex items-center justify-center mr-4">
              <span class="text-monkey-darker font-bold">2</span>
            </div>
            <h3 class="text-xl font-semibold" data-i18n="activateStep2">绑定IP地址与实名认证</h3>
          </div>
          
          <div class="space-y-4">
            <p class="text-sm text-gray-400" data-i18n="activateStep2Desc">为了安全起见，请绑定您家庭的IP地址并进行香港身份证实名认证。</p>
            
            <div id="ipBindingForm" class="space-y-4">
              <div>
                <label for="ipAddress" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="ipAddressLabel">家庭IP地址</label>
                <input type="text" id="ipAddress" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-3 text-white focus:outline-none focus:border-monkey-blue transition-colors" placeholder="例如: 192.168.1.1" disabled>
                <button id="detectIPBtn" class="mt-2 text-sm text-monkey-blue hover:text-monkey-blue/80 transition-colors" data-i18n="detectIPButton">自动检测IP地址</button>
              </div>
              
              <div>
                <label for="fullName" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="fullNameLabel">姓名</label>
                <input type="text" id="fullName" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-3 text-white focus:outline-none focus:border-monkey-blue transition-colors" placeholder="请输入您的全名" disabled>
              </div>
              
              <div>
                <label for="hkid" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="hkidLabel">香港身份证号码</label>
                <input type="text" id="hkid" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-3 text-white focus:outline-none focus:border-monkey-blue transition-colors" placeholder="例如: A123456(7)" maxlength="11" disabled>
                <p class="text-xs text-gray-500 mt-1" data-i18n="hkidHint">格式: 1个字母 + 6位数字 + 括号内1位校验码</p>
              </div>
              
              <button id="bindIPBtn" class="w-full bg-monkey-yellow hover:bg-monkey-yellow/90 text-monkey-darker font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                <span data-i18n="bindIPButton">绑定IP地址</span>
              </button>
            </div>
            
            <div id="ipBindingSuccess" class="hidden bg-monkey-green/20 border border-monkey-green/50 rounded-lg p-4 mt-4">
              <div class="flex items-start">
                <i class="fa fa-check-circle text-monkey-green text-xl mt-1 mr-3"></i>
                <div>
                  <h4 class="font-medium text-monkey-green" data-i18n="ipBindingSuccessTitle">绑定成功!</h4>
                  <p class="text-sm text-gray-300 mt-1" data-i18n="ipBindingSuccessDesc">您的IP地址已成功绑定，实名认证已完成。现在可以开始使用Monkey Pocket了!</p>
                </div>
              </div>
            </div>
            
            <div id="ipBindingError" class="hidden bg-monkey-red/20 border border-monkey-red/50 rounded-lg p-4 mt-4">
              <div class="flex items-start">
                <i class="fa fa-times-circle text-monkey-red text-xl mt-1 mr-3"></i>
                <div>
                  <h4 class="font-medium text-monkey-red" data-i18n="ipBindingErrorTitle">绑定失败</h4>
                  <p class="text-sm text-gray-300 mt-1" id="ipBindingErrorMsg">香港身份证号码格式不正确。请检查后重试。</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 物品管理区域 -->
  <section id="items" class="py-20">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold mb-4" data-i18n="itemsTitle">管理你的<span class="text-monkey-yellow">物品</span></h2>
        <p class="text-gray-400 max-w-2xl mx-auto" data-i18n="itemsDescription">添加、组织和管理您的个人物品（免费15个存储格）</p>
        <div class="mt-4 inline-flex items-center bg-monkey-gray/50 rounded-full px-4 py-2">
          <i class="fa fa-box text-monkey-yellow mr-2"></i>
          <span class="text-sm" data-i18n="storageStatus">已使用 <span id="usedSlots">0</span>/<span id="totalSlots">15</span> 存储格</span>
        </div>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- 添加物品表单 -->
        <div class="lg:col-span-1 bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50">
          <h3 class="text-xl font-semibold mb-6" data-i18n="addItemTitle">添加新物品</h3>
          
          <form id="itemForm" class="space-y-4">
            <div>
              <label for="itemName" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="itemNameLabel">物品名称</label>
              <input type="text" id="itemName" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-2 text-white focus:outline-none focus:border-monkey-blue transition-colors" placeholder="例如: 笔记本电脑、雨伞" data-i18n-placeholder="itemNamePlaceholder">
            </div>
            
            <div>
              <label for="itemCategory" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="itemCategoryLabel">类别</label>
              <select id="itemCategory" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-2 text-white focus:outline-none focus:border-monkey-blue transition-colors">
                <option value="electronics" data-i18n="categoryElectronics">电子产品</option>
                <option value="clothing" data-i18n="categoryClothing">衣物</option>
                <option value="accessories" data-i18n="categoryAccessories">配件</option>
                <option value="documents" data-i18n="categoryDocuments">文件</option>
                <option value="personal" data-i18n="categoryPersonal">个人物品</option>
                <option value="other" data-i18n="categoryOther">其他</option>
              </select>
            </div>
            
            <div>
              <label for="itemDescription" class="block text-sm font-medium text-gray-300 mb-1" data-i18n="itemDescriptionLabel">描述</label>
              <textarea id="itemDescription" rows="3" class="w-full bg-monkey-gray/50 border border-monkey-gray rounded-lg px-4 py-2 text-white focus:outline-none focus:border-monkey-blue transition-colors" placeholder="物品的简要描述" data-i18n-placeholder="itemDescriptionPlaceholder"></textarea>
            </div>
            
            <div class="pt-2">
              <button type="submit" id="addItemBtn" class="w-full bg-monkey-blue hover:bg-monkey-blue/90 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] glow">
                <span data-i18n="addItemButton">添加物品</span>
              </button>
            </div>
            
            <div id="storageFullError" class="hidden bg-monkey-red/20 border border-monkey-red/50 rounded-lg p-3 mt-2">
              <div class="flex items-start">
                <i class="fa fa-exclamation-triangle text-monkey-red text-sm mt-0.5 mr-2"></i>
                <div>
                  <p class="text-sm text-gray-300" data-i18n="storageFullError">存储格已满！请购买更多存储格以添加新物品。</p>
                </div>
              </div>
            </div>
          </form>
        </div>
        
        <!-- 物品列表 -->
        <div class="lg:col-span-2 bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50">
          <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-semibold" data-i18n="itemsListTitle">你的物品</h3>
            <div class="text-sm text-gray-400" id="itemCount" data-i18n="itemCount">0 个物品</div>
          </div>
          
          <div class="overflow-y-auto max-h-[400px] scrollbar-hide pr-2">
            <div id="itemsList" class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <!-- 物品将通过JavaScript动态添加 -->
            </div>
            
            <!-- 空状态 -->
            <div id="emptyState" class="text-center py-12 text-gray-500">
              <i class="fa fa-inbox text-4xl mb-3"></i>
              <p data-i18n="emptyStateText">尚未添加任何物品。开始添加您的物品吧！</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 购买存储格区域 -->
  <section id="storage" class="py-20 bg-monkey-dark">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold mb-4" data-i18n="storageTitle">购买<span class="text-monkey-yellow">存储格</span></h2>
        <p class="text-gray-400 max-w-2xl mx-auto" data-i18n="storageDescription">免费15个存储格不够用？购买更多存储格以添加更多物品！</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- 套餐1 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50 hover:border-monkey-blue/50 transition-all duration-300 transform hover:-translate-y-1">
          <div class="text-center mb-6">
            <h3 class="text-xl font-semibold mb-2" data-i18n="plan1Title">基础套餐</h3>
            <div class="flex justify-center items-baseline">
              <span class="text-3xl font-bold">$100</span>
              <span class="text-gray-400 ml-1" data-i18n="planPriceUnit">HKD</span>
            </div>
          </div>
          
          <ul class="space-y-3 mb-8">
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan1Feature1">5 个额外存储格</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan1Feature2">永久使用</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan1Feature3">即时生效</span>
            </li>
          </ul>
          
          <button class="w-full bg-monkey-blue hover:bg-monkey-blue/90 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] glow purchase-btn" data-plan="5" data-price="100">
            <span data-i18n="purchaseButton">立即购买</span>
          </button>
        </div>
        
        <!-- 套餐2 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50 hover:border-monkey-yellow/50 transition-all duration-300 transform hover:-translate-y-1 relative">
          <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-monkey-yellow text-monkey-darker px-3 py-1 rounded-full text-sm font-semibold" data-i18n="popularLabel">最受欢迎</div>
          
          <div class="text-center mb-6">
            <h3 class="text-xl font-semibold mb-2" data-i18n="plan2Title">进阶套餐</h3>
            <div class="flex justify-center items-baseline">
              <span class="text-3xl font-bold">$200</span>
              <span class="text-gray-400 ml-1" data-i18n="planPriceUnit">HKD</span>
            </div>
          </div>
          
          <ul class="space-y-3 mb-8">
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan2Feature1">13 个额外存储格</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan2Feature2">永久使用</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan2Feature3">节省 $60 (比单买5格套餐)</span>
            </li>
          </ul>
          
          <button class="w-full bg-monkey-yellow hover:bg-monkey-yellow/90 text-monkey-darker font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] purchase-btn" data-plan="13" data-price="200">
            <span data-i18n="purchaseButton">立即购买</span>
          </button>
        </div>
        
        <!-- 套餐3 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50 hover:border-monkey-green/50 transition-all duration-300 transform hover:-translate-y-1">
          <div class="text-center mb-6">
            <h3 class="text-xl font-semibold mb-2" data-i18n="plan3Title">高级套餐</h3>
            <div class="flex justify-center items-baseline">
              <span class="text-3xl font-bold">$350</span>
              <span class="text-gray-400 ml-1" data-i18n="planPriceUnit">HKD</span>
            </div>
          </div>
          
          <ul class="space-y-3 mb-8">
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan3Feature1">30 个额外存储格</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan3Feature2">永久使用</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-check text-monkey-green mr-3"></i>
              <span data-i18n="plan3Feature3">节省 $250 (比单买5格套餐)</span>
            </li>
          </ul>
          
          <button class="w-full bg-monkey-green hover:bg-monkey-green/90 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] glow-green purchase-btn" data-plan="30" data-price="350">
            <span data-i18n="purchaseButton">立即购买</span>
          </button>
        </div>
      </div>
      
      <!-- 购买确认模态框 -->
      <div id="purchaseModal" class="hidden fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4">
        <div class="bg-monkey-darker rounded-xl max-w-md w-full p-6 border border-monkey-gray/50">
          <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-semibold" data-i18n="purchaseModalTitle">确认购买</h3>
            <button id="closePurchaseModal" class="text-gray-400 hover:text-white">
              <i class="fa fa-times"></i>
            </button>
          </div>
          
          <div class="mb-6">
            <p class="text-gray-300 mb-2" data-i18n="purchaseModalDesc">您即将购买：</p>
            <div class="bg-monkey-gray/50 rounded-lg p-4 mb-4">
              <h4 class="font-semibold text-lg" id="purchasePlanName">基础套餐</h4>
              <p class="text-gray-400" id="purchasePlanDetails">5 个额外存储格</p>
              <p class="text-monkey-yellow font-bold text-xl mt-2" id="purchasePlanPrice">$100 HKD</p>
            </div>
            
            <p class="text-sm text-gray-400" data-i18n="purchaseModalNote">购买后存储格将立即添加到您的账户，永久有效。</p>
          </div>
          
          <div class="flex space-x-4">
            <button id="confirmPurchase" class="flex-1 bg-monkey-green hover:bg-monkey-green/90 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300">
              <span data-i18n="confirmPurchaseButton">确认购买</span>
            </button>
            <button id="cancelPurchase" class="flex-1 bg-monkey-gray hover:bg-monkey-gray/70 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300">
              <span data-i18n="cancelPurchaseButton">取消</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 远程取物区域 -->
  <section id="retrieve" class="py-20">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold mb-4" data-i18n="retrieveTitle">远程<span class="text-monkey-yellow">取物</span></h2>
        <p class="text-gray-400 max-w-2xl mx-auto" data-i18n="retrieveDescription">外出时忘记带物品？远程从您的Monkey Pocket中取出！</p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- 远程取物控制面板 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50">
          <h3 class="text-xl font-semibold mb-6" data-i18n="retrievePanelTitle">远程取物控制面板</h3>
          
          <div class="space-y-6">
            <div class="bg-monkey-gray/50 rounded-lg p-4">
              <div class="flex items-center mb-4">
                <div class="w-10 h-10 rounded-full bg-monkey-blue/20 flex items-center justify-center mr-3">
                  <i class="fa fa-wifi text-monkey-blue"></i>
                </div>
                <div>
                  <h4 class="font-medium" data-i18n="connectionStatusTitle">连接状态</h4>
                  <p class="text-sm text-gray-400" data-i18n="connectionStatusDesc">与您的Monkey Pocket连接</p>
                </div>
              </div>
              
              <div class="flex items-center justify-between">
                <span class="text-gray-300" data-i18n="monkeyPocketStatus">Monkey Pocket状态:</span>
                <div class="flex items-center">
                  <div class="w-3 h-3 rounded-full bg-green-500 mr-2 animate-pulse"></div>
                  <span class="text-green-400 font-medium" data-i18n="connected">已连接</span>
                </div>
              </div>
            </div>
            
            <div id="selectedItemsForRetrieval" class="bg-monkey-gray/50 rounded-lg p-4 min-h-[120px]">
              <p class="text-gray-500 text-center py-4" data-i18n="selectItemsPrompt">请从右侧选择要取出的物品</p>
            </div>
            
            <div class="flex space-x-4">
              <button id="retrieveItemsBtn" class="flex-1 bg-monkey-blue hover:bg-monkey-blue/90 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] glow disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                <i class="fa fa-download mr-2"></i>
                <span data-i18n="retrieveButton">取出物品</span>
              </button>
              <button id="clearSelectionBtn" class="flex-1 bg-monkey-gray hover:bg-monkey-gray/70 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300">
                <i class="fa fa-times mr-2"></i>
                <span data-i18n="clearSelectionButton">清空选择</span>
              </button>
            </div>
            
            <div id="retrieveSuccess" class="hidden bg-monkey-green/20 border border-monkey-green/50 rounded-lg p-4">
              <div class="flex items-start">
                <i class="fa fa-check-circle text-monkey-green text-xl mt-1 mr-3"></i>
                <div>
                  <h4 class="font-medium text-monkey-green" data-i18n="retrieveSuccessTitle">取出成功!</h4>
                  <p class="text-sm text-gray-300 mt-1" data-i18n="retrieveSuccessDesc">您的物品已从Monkey Pocket中取出。请检查您的Monkey Pocket。</p>
                </div>
              </div>
            </div>
            
            <div id="retrieveError" class="hidden bg-monkey-red/20 border border-monkey-red/50 rounded-lg p-4">
              <div class="flex items-start">
                <i class="fa fa-times-circle text-monkey-red text-xl mt-1 mr-3"></i>
                <div>
                  <h4 class="font-medium text-monkey-red" data-i18n="retrieveErrorTitle">取出失败</h4>
                  <p class="text-sm text-gray-300 mt-1" data-i18n="retrieveErrorDesc">无法从Monkey Pocket中取出物品。请检查连接后重试。</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 可取出物品列表 -->
        <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50">
          <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-semibold" data-i18n="availableItemsTitle">可取出物品</h3>
            <div class="text-sm text-gray-400" id="availableItemsCount" data-i18n="availableItemsCount">0 个物品可用</div>
          </div>
          
          <div class="overflow-y-auto max-h-[400px] scrollbar-hide pr-2">
            <div id="availableItemsList" class="space-y-4">
              <!-- 物品将通过JavaScript动态添加 -->
            </div>
            
            <div id="noAvailableItems" class="text-center py-12 text-gray-500">
              <i class="fa fa-box-open text-4xl mb-3"></i>
              <p data-i18n="noAvailableItemsText">暂无可用物品。请先添加物品到您的Monkey Pocket。</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 关于我们 -->
  <section id="about" class="py-20 bg-monkey-dark">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-center gap-12">
        <div class="md:w-1/2">
          <h2 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold mb-6" data-i18n="aboutTitle">关于<span class="text-monkey-yellow">Monkey Kingdom</span></h2>
          <p class="text-gray-300 mb-6 text-lg" data-i18n="aboutDescription1">
            Monkey Kingdom致力于创造融合魔法与科技的创新产品。我们的旗舰产品Monkey Pocket，为现代世界重新构想经典的"百宝袋"概念。
          </p>
          <p class="text-gray-400 mb-8" data-i18n="aboutDescription2">
            由一群科技爱好者和设计远见者创立，我们相信创造能够简化生活同时增添奇迹感的产品。Monkey Pocket只是我们重新定义我们与日常物品互动方式的旅程的开始。
          </p>
          <div class="flex space-x-4">
            <a href="#" class="w-10 h-10 rounded-full bg-monkey-gray/50 flex items-center justify-center text-gray-300 hover:bg-monkey-blue hover:text-white transition-colors">
              <i class="fa fa-facebook"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-monkey-gray/50 flex items-center justify-center text-gray-300 hover:bg-monkey-blue hover:text-white transition-colors">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-monkey-gray/50 flex items-center justify-center text-gray-300 hover:bg-monkey-blue hover:text-white transition-colors">
              <i class="fa fa-instagram"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-monkey-gray/50 flex items-center justify-center text-gray-300 hover:bg-monkey-blue hover:text-white transition-colors">
              <i class="fa fa-youtube-play"></i>
            </a>
          </div>
        </div>
        
        <div class="md:w-1/2">
          <div class="relative">
            <div class="bg-monkey-gray/30 backdrop-blur-sm rounded-xl p-6 border border-monkey-gray/50 transform rotate-3">
              <img src="https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Monkey Kingdom Team" class="rounded-lg w-full h-auto">
            </div>
            <div class="absolute -bottom-6 -left-6 bg-monkey-yellow/90 text-monkey-darker rounded-xl p-4 transform -rotate-3">
              <h3 class="font-bold text-lg" data-i18n="establishedTitle">成立于 2023</h3>
              <p class="text-sm" data-i18n="establishedSubtitle">创新遇见魔法</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 页脚 -->
  <footer class="bg-monkey-darker border-t border-monkey-gray/30 py-12">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <div class="flex items-center space-x-2 mb-6">
            <div class="w-10 h-10 rounded-full bg-monkey-yellow flex items-center justify-center">
              <span class="text-monkey-darker font-bold text-xl">MK</span>
            </div>
            <span class="text-2xl font-bold text-shadow">Monkey <span class="text-monkey-yellow">Pocket</span></span>
          </div>
          <p class="text-gray-400 mb-6" data-i18n="footerDescription">
            魔法百宝袋，改变您携带和管理物品的方式。
          </p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors">
              <i class="fa fa-facebook"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors">
              <i class="fa fa-instagram"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors">
              <i class="fa fa-youtube-play"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-6" data-i18n="footerProducts">产品</h3>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerProduct1">Monkey Pocket Pro</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerProduct2">Monkey Pocket Mini</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerProduct3">配件</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerProduct4">替换零件</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerProduct5">礼品卡</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-6" data-i18n="footerSupport">支持</h3>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerSupport1">帮助中心</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerSupport2">联系我们</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerSupport3">保修</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerSupport4">常见问题</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerSupport5">故障排除</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-6" data-i18n="footerCompany">公司</h3>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerCompany1">关于我们</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerCompany2">招聘</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerCompany3">新闻</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerCompany4">隐私政策</a></li>
            <li><a href="#" class="text-gray-400 hover:text-monkey-yellow transition-colors" data-i18n="footerCompany5">服务条款</a></li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-monkey-gray/30 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
        <p class="text-gray-500 text-sm mb-4 md:mb-0">
          &copy; 2025 Monkey Kingdom. <span data-i18n="footerRights">版权所有。</span>
        </p>
        <div class="flex space-x-6">
          <a href="#" class="text-gray-500 hover:text-gray-300 text-sm transition-colors" data-i18n="footerPrivacy">隐私政策</a>
          <a href="#" class="text-gray-500 hover:text-gray-300 text-sm transition-colors" data-i18n="footerTerms">服务条款</a>
          <a href="#" class="text-gray-500 hover:text-gray-300 text-sm transition-colors" data-i18n="footerCookies">Cookie政策</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // 语言切换功能
    const langEN = document.getElementById('langEN');
    const langZH = document.getElementById('langZH');
    const langButtons = document.querySelectorAll('.lang-btn');
    
    // 默认语言为中文
    let currentLang = 'zh';
    
    // 语言资源
    const translations = {
      en: {
        // 导航
        navActivate: "Activate Device",
        navItems: "My Items",
        navStorage: "Buy Storage",
        navRetrieve: "Remote Retrieve",
        navAbout: "About Us",
        
        // 英雄区域
        heroTitle: "Your <span class='text-monkey-yellow text-shadow'>Magical</span> Pocket",
        heroDescription: "Monkey Pocket - Modern Doraemon's Pocket. Access your personal items anytime, anywhere with fingerprint verification.",
        heroButton1: "Start Activation",
        heroButton2: "Remote Retrieve",
        
        // 设备状态
        deviceStatus: "Monkey Pocket Status",
        deviceConnected: "Connected:",
        deviceStorage: "Storage:",
        deviceBattery: "Battery:",
        yes: "Yes",
        
        // 激活区域
        activateTitle: "Activate Your <span class='text-monkey-yellow'>Monkey Pocket</span>",
        activateDescription: "Please follow these two steps to complete device activation",
        activateStep1: "Enter Activation Code",
        activateStep1Desc: "Find the activation code card in your Monkey Pocket packaging and enter it below to activate your device.",
        activateCodeLabel: "Activation Code",
        activateCodeHint: "Format: MK-XXXX-XXXX-XXXX (X is letter or digit)",
        activateButton: "Activate Device",
        activateSuccessTitle: "Activation Successful!",
        activateSuccessDesc: "Your Monkey Pocket has been successfully activated. Please proceed to step 2 to complete setup.",
        activateErrorTitle: "Activation Failed",
        
        activateStep2: "Bind IP Address & Real-name Verification",
        activateStep2Desc: "For security reasons, please bind your home IP address and complete Hong Kong ID verification.",
        ipAddressLabel: "Home IP Address",
        detectIPButton: "Auto-detect IP Address",
        fullNameLabel: "Full Name",
        hkidLabel: "Hong Kong ID Number",
        hkidHint: "Format: 1 letter + 6 digits + 1 check digit in brackets",
        bindIPButton: "Bind IP Address",
        ipBindingSuccessTitle: "Binding Successful!",
        ipBindingSuccessDesc: "Your IP address has been successfully bound and real-name verification is complete. You can now start using Monkey Pocket!",
        ipBindingErrorTitle: "Binding Failed",
        
        // 物品管理区域
        itemsTitle: "Manage Your <span class='text-monkey-yellow'>Items</span>",
        itemsDescription: "Add, organize and manage your personal items (15 free storage slots)",
        storageStatus: "Used <span id='usedSlots'>0</span>/<span id='totalSlots'>15</span> storage slots",
        addItemTitle: "Add New Item",
        itemNameLabel: "Item Name",
        itemNamePlaceholder: "e.g. Laptop, Umbrella",
        itemCategoryLabel: "Category",
        categoryElectronics: "Electronics",
        categoryClothing: "Clothing",
        categoryAccessories: "Accessories",
        categoryDocuments: "Documents",
        categoryPersonal: "Personal Items",
        categoryOther: "Other",
        itemDescriptionLabel: "Description",
        itemDescriptionPlaceholder: "Brief description of the item",
        addItemButton: "Add Item",
        storageFullError: "Storage is full! Please purchase more storage slots to add new items.",
        itemsListTitle: "Your Items",
        itemCount: "0 items",
        emptyStateText: "No items added yet. Start adding your items!",
        
        // 存储格购买区域
        storageTitle: "Buy <span class='text-monkey-yellow'>Storage Slots</span>",
        storageDescription: "Not enough with 15 free storage slots? Buy more to add more items!",
        plan1Title: "Basic Plan",
        planPriceUnit: "HKD",
        plan1Feature1: "5 additional storage slots",
        plan1Feature2: "Permanent use",
        plan1Feature3: "Instant activation",
        plan2Title: "Advanced Plan",
        plan2Feature1: "13 additional storage slots",
        plan2Feature2: "Permanent use",
        plan2Feature3: "Save $60 (compared to buying 5-slot plans)",
        plan3Title: "Premium Plan",
        plan3Feature1: "30 additional storage slots",
        plan3Feature2: "Permanent use",
        plan3Feature3: "Save $250 (compared to buying 5-slot plans)",
        purchaseButton: "Purchase Now",
        popularLabel: "Most Popular",
        purchaseModalTitle: "Confirm Purchase",
        purchaseModalDesc: "You are about to purchase:",
        purchaseModalNote: "Storage slots will be added to your account immediately after purchase, valid permanently.",
        confirmPurchaseButton: "Confirm Purchase",
        cancelPurchaseButton: "Cancel",
        
        // 远程取物区域
        retrieveTitle: "Remote <span class='text-monkey-yellow'>Retrieve</span>",
        retrieveDescription: "Forgot an item when going out? Retrieve it remotely from your Monkey Pocket!",
        retrievePanelTitle: "Remote Retrieve Control Panel",
        connectionStatusTitle: "Connection Status",
        connectionStatusDesc: "Connected to your Monkey Pocket",
        monkeyPocketStatus: "Monkey Pocket Status:",
        connected: "Connected",
        selectItemsPrompt: "Please select items to retrieve from the right side",
        retrieveButton: "Retrieve Items",
        clearSelectionButton: "Clear Selection",
        retrieveSuccessTitle: "Retrieve Successful!",
        retrieveSuccessDesc: "Your items have been retrieved from Monkey Pocket. Please check your Monkey Pocket.",
        retrieveErrorTitle: "Retrieve Failed",
        retrieveErrorDesc: "Unable to retrieve items from Monkey Pocket. Please check connection and try again.",
        availableItemsTitle: "Available Items",
        availableItemsCount: "0 items available",
        noAvailableItemsText: "No items available. Please add items to your Monkey Pocket first.",
        
        // 关于我们区域
        aboutTitle: "About <span class='text-monkey-yellow'>Monkey Kingdom</span>",
        aboutDescription1: "Monkey Kingdom is dedicated to creating innovative products that blend magic with technology. Our flagship product, Monkey Pocket, reimagines the classic 'magic pocket' concept for the modern world.",
        aboutDescription2: "Founded by a team of tech enthusiasts and design visionaries, we believe in creating products that simplify life while adding a touch of wonder. Monkey Pocket is just the beginning of our journey to redefine how we interact with everyday objects.",
        establishedTitle: "Est. 2023",
        establishedSubtitle: "Innovation Meets Magic",
        
        // 页脚
        footerDescription: "The magical pocket that transforms how you carry and manage your belongings.",
        footerProducts: "Products",
        footerProduct1: "Monkey Pocket Pro",
        footerProduct2: "Monkey Pocket Mini",
        footerProduct3: "Accessories",
        footerProduct4: "Replacement Parts",
        footerProduct5: "Gift Cards",
        footerSupport: "Support",
        footerSupport1: "Help Center",
        footerSupport2: "Contact Us",
        footerSupport3: "Warranty",
        footerSupport4: "FAQ",
        footerSupport5: "Troubleshooting",
        footerCompany: "Company",
        footerCompany1: "About Us",
        footerCompany2: "Careers",
        footerCompany3: "Press",
        footerCompany4: "Privacy Policy",
        footerCompany5: "Terms of Service",
        footerRights: "All rights reserved.",
        footerPrivacy: "Privacy Policy",
        footerTerms: "Terms of Service",
        footerCookies: "Cookie Policy",
        
        // 通用
        removeButton: "Remove",
        retrieveItemButton: "Retrieve",
        itemAddedText: "Item added successfully!",
        itemRemovedText: "Item removed successfully!",
        purchaseSuccessText: "Purchase successful! Storage slots have been added to your account.",
        purchaseFailedText: "Purchase failed. Please try again.",
        confirmRetrieveText: "Are you sure you want to retrieve the selected items?",
        retrievingText: "Retrieving...",
      },
      zh: {
        // 导航
        navActivate: "激活设备",
        navItems: "我的物品",
        navStorage: "购买存储格",
        navRetrieve: "远程取物",
        navAbout: "关于我们",
        
        // 英雄区域
        heroTitle: "你的<span class='text-monkey-yellow text-shadow'>魔法</span>百宝袋",
        heroDescription: "Monkey Pocket - 现代版哆啦A梦百宝袋。通过指纹验证，随时随地存取您的个人物品。",
        heroButton1: "开始激活",
        heroButton2: "远程取物",
        
        // 设备状态
        deviceStatus: "Monkey Pocket 状态",
        deviceConnected: "已连接:",
        deviceStorage: "存储格:",
        deviceBattery: "电量:",
        yes: "是",
        
        // 激活区域
        activateTitle: "激活你的<span class='text-monkey-yellow'>Monkey Pocket</span>",
        activateDescription: "请按照以下两个步骤完成设备激活",
        activateStep1: "输入激活码",
        activateStep1Desc: "请在您的Monkey Pocket包装盒内找到激活码卡片，输入下方以激活您的设备。",
        activateCodeLabel: "激活码",
        activateCodeHint: "激活码格式: MK-XXXX-XXXX-XXXX (X为字母或数字)",
        activateButton: "激活设备",
        activateSuccessTitle: "激活成功!",
        activateSuccessDesc: "您的Monkey Pocket已成功激活。请继续步骤2以完成设置。",
        activateErrorTitle: "激活失败",
        
        activateStep2: "绑定IP地址与实名认证",
        activateStep2Desc: "为了安全起见，请绑定您家庭的IP地址并进行香港身份证实名认证。",
        ipAddressLabel: "家庭IP地址",
        detectIPButton: "自动检测IP地址",
        fullNameLabel: "姓名",
        hkidLabel: "香港身份证号码",
        hkidHint: "格式: 1个字母 + 6位数字 + 括号内1位校验码",
        bindIPButton: "绑定IP地址",
        ipBindingSuccessTitle: "绑定成功!",
        ipBindingSuccessDesc: "您的IP地址已成功绑定，实名认证已完成。现在可以开始使用Monkey Pocket了!",
        ipBindingErrorTitle: "绑定失败",
        
        // 物品管理区域
        itemsTitle: "管理你的<span class='text-monkey-yellow'>物品</span>",
        itemsDescription: "添加、组织和管理您的个人物品（免费15个存储格）",
        storageStatus: "已使用 <span id='usedSlots'>0</span>/<span id='totalSlots'>15</span> 存储格",
        addItemTitle: "添加新物品",
        itemNameLabel: "物品名称",
        itemNamePlaceholder: "例如: 笔记本电脑、雨伞",
        itemCategoryLabel: "类别",
        categoryElectronics: "电子产品",
        categoryClothing: "衣物",
        categoryAccessories: "配件",
        categoryDocuments: "文件",
        categoryPersonal: "个人物品",
        categoryOther: "其他",
        itemDescriptionLabel: "描述",
        itemDescriptionPlaceholder: "物品的简要描述",
        addItemButton: "添加物品",
        storageFullError: "存储格已满！请购买更多存储格以添加新物品。",
        itemsListTitle: "你的物品",
        itemCount: "0 个物品",
        emptyStateText: "尚未添加任何物品。开始添加您的物品吧！",
        
        // 存储格购买区域
        storageTitle: "购买<span class='text-monkey-yellow'>存储格</span>",
        storageDescription: "免费15个存储格不够用？购买更多存储格以添加更多物品！",
        plan1Title: "基础套餐",
        planPriceUnit: "HKD",
        plan1Feature1: "5 个额外存储格",
        plan1Feature2: "永久使用",
        plan1Feature3: "即时生效",
        plan2Title: "进阶套餐",
        plan2Feature1: "13 个额外存储格",
        plan2Feature2: "永久使用",
        plan2Feature3: "节省 $60 (比单买5格套餐)",
        plan3Title: "高级套餐",
        plan3Feature1: "30 个额外存储格",
        plan3Feature2: "永久使用",
        plan3Feature3: "节省 $250 (比单买5格套餐)",
        purchaseButton: "立即购买",
        popularLabel: "最受欢迎",
        purchaseModalTitle: "确认购买",
        purchaseModalDesc: "您即将购买：",
        purchaseModalNote: "购买后存储格将立即添加到您的账户，永久有效。",
        confirmPurchaseButton: "确认购买",
        cancelPurchaseButton: "取消",
        
        // 远程取物区域
        retrieveTitle: "远程<span class='text-monkey-yellow'>取物</span>",
        retrieveDescription: "外出时忘记带物品？远程从您的Monkey Pocket中取出！",
        retrievePanelTitle: "远程取物控制面板",
        connectionStatusTitle: "连接状态",
        connectionStatusDesc: "与您的Monkey Pocket连接",
        monkeyPocketStatus: "Monkey Pocket状态:",
        connected: "已连接",
        selectItemsPrompt: "请从右侧选择要取出的物品",
        retrieveButton: "取出物品",
        clearSelectionButton: "清空选择",
        retrieveSuccessTitle: "取出成功!",
        retrieveSuccessDesc: "您的物品已从Monkey Pocket中取出。请检查您的Monkey Pocket。",
        retrieveErrorTitle: "取出失败",
        retrieveErrorDesc: "无法从Monkey Pocket中取出物品。请检查连接后重试。",
        availableItemsTitle: "可取出物品",
        availableItemsCount: "0 个物品可用",
        noAvailableItemsText: "暂无可用物品。请先添加物品到您的Monkey Pocket。",
        
        // 关于我们区域
        aboutTitle: "关于<span class='text-monkey-yellow'>Monkey Kingdom</span>",
        aboutDescription1: "Monkey Kingdom致力于创造融合魔法与科技的创新产品。我们的旗舰产品Monkey Pocket，为现代世界重新构想经典的'百宝袋'概念。",
        aboutDescription2: "由一群科技爱好者和设计远见者创立，我们相信创造能够简化生活同时增添奇迹感的产品。Monkey Pocket只是我们重新定义我们与日常物品互动方式的旅程的开始。",
        establishedTitle: "成立于 2023",
        establishedSubtitle: "创新遇见魔法",
        
        // 页脚
        footerDescription: "魔法百宝袋，改变您携带和管理物品的方式。",
        footerProducts: "产品",
        footerProduct1: "Monkey Pocket Pro",
        footerProduct2: "Monkey Pocket Mini",
        footerProduct3: "配件",
        footerProduct4: "替换零件",
        footerProduct5: "礼品卡",
        footerSupport: "支持",
        footerSupport1: "帮助中心",
        footerSupport2: "联系我们",
        footerSupport3: "保修",
        footerSupport4: "常见问题",
        footerSupport5: "故障排除",
        footerCompany: "公司",
        footerCompany1: "关于我们",
        footerCompany2: "招聘",
        footerCompany3: "新闻",
        footerCompany4: "隐私政策",
        footerCompany5: "服务条款",
        footerRights: "版权所有。",
        footerPrivacy: "隐私政策",
        footerTerms: "服务条款",
        footerCookies: "Cookie政策",
        
        // 通用
        removeButton: "移除",
        retrieveItemButton: "取出",
        itemAddedText: "物品添加成功！",
        itemRemovedText: "物品移除成功！",
        purchaseSuccessText: "购买成功！存储格已添加到您的账户。",
        purchaseFailedText: "购买失败，请重试。",
        confirmRetrieveText: "确定要取出选中的物品吗？",
        retrievingText: "正在取出...",
      }
    };
    
    // 切换语言
    function switchLanguage(lang) {
      currentLang = lang;
      
      // 更新语言按钮状态
      langButtons.forEach(btn => {
        btn.classList.remove('bg-monkey-blue', 'text-white');
        btn.classList.add('text-gray-300', 'hover:text-white');
      });
      
      if (lang === 'en') {
        langEN.classList.add('bg-monkey-blue', 'text-white');
        langEN.classList.remove('text-gray-300', 'hover:text-white');
        document.documentElement.lang = 'en';
      } else {
        langZH.classList.add('bg-monkey-blue', 'text-white');
        langZH.classList.remove('text-gray-300', 'hover:text-white');
        document.documentElement.lang = 'zh-HK';
      }
      
      // 更新所有带有data-i18n属性的元素
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
          if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translations[lang][key];
          } else {
            element.innerHTML = translations[lang][key];
          }
        }
      });
      
      // 更新带有data-i18n-placeholder属性的元素
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang][key]) {
          element.placeholder = translations[lang][key];
        }
      });
      
      // 更新动态内容
      updateItemCountText();
      updateAvailableItemsCount();
      updateStorageStatus();
    }
    
    langEN.addEventListener('click', () => switchLanguage('en'));
    langZH.addEventListener('click', () => switchLanguage('zh'));
    
    // 导航栏滚动效果
    window.addEventListener('scroll', function() {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('py-2', 'bg-monkey-darker/95');
        navbar.classList.remove('py-4', 'bg-monkey-darker/80');
      } else {
        navbar.classList.add('py-4', 'bg-monkey-darker/80');
        navbar.classList.remove('py-2', 'bg-monkey-darker/95');
      }
    });
    
    // 移动端菜单
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    menuBtn.addEventListener('click', function() {
      mobileMenu.classList.toggle('hidden');
      if (mobileMenu.classList.contains('hidden')) {
        menuBtn.innerHTML = '<i class="fa fa-bars text-2xl"></i>';
      } else {
        menuBtn.innerHTML = '<i class="fa fa-times text-2xl"></i>';
      }
    });
    
    // 平滑滚动
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
          
          // 关闭移动端菜单
          if (!mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
            menuBtn.innerHTML = '<i class="fa fa-bars text-2xl"></i>';
          }
        }
      });
    });
    
    // 应用程序状态
    const appState = {
      isActivated: false,
      isIPBound: false,
      totalStorageSlots: 15,
      usedStorageSlots: 0,
      items: [],
      selectedItemsForRetrieval: [],
      purchasedPlans: []
    };
    
    // 初始化存储状态
    function updateStorageStatus() {
      document.getElementById('storageSlotsUsed').textContent = appState.usedStorageSlots;
      document.getElementById('storageSlotsTotal').textContent = appState.totalStorageSlots;
      document.getElementById('usedSlots').textContent = appState.usedStorageSlots;
      document.getElementById('totalSlots').textContent = appState.totalStorageSlots;
      
      // 更新物品计数
      updateItemCountText();
    }
    
    // 更新物品计数文本
    function updateItemCountText() {
      const count = appState.items.length;
      const itemCountElement = document.getElementById('itemCount');
      if (itemCountElement) {
        if (currentLang === 'en') {
          itemCountElement.textContent = `${count} item${count !== 1 ? 's' : ''}`;
        } else {
          itemCountElement.textContent = `${count} 个物品`;
        }
      }
    }
    
    // 更新可用物品计数
    function updateAvailableItemsCount() {
      const count = appState.items.length;
      const availableItemsCountElement = document.getElementById('availableItemsCount');
      if (availableItemsCountElement) {
        if (currentLang === 'en') {
          availableItemsCountElement.textContent = `${count} item${count !== 1 ? 's' : ''} available`;
        } else {
          availableItemsCountElement.textContent = `${count} 个物品可用`;
        }
      }
    }
    
    // 验证香港身份证号码格式
    function validateHKID(hkid) {
      // 香港身份证号码格式：1个字母 + 6位数字 + 括号内1位校验码（数字或字母）
      const hkidRegex = /^[A-Z]{1}[0-9]{6}\([0-9A-Z]{1}\)$/;
      return hkidRegex.test(hkid);
    }
    
    // 生成模拟IP地址
    function generateRandomIP() {
      return `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
    }
    
    // 激活设备功能
    const activateDeviceBtn = document.getElementById('activateDeviceBtn');
    const activationSuccess = document.getElementById('activationSuccess');
    const activationError = document.getElementById('activationError');
    const activationErrorMsg = document.getElementById('activationErrorMsg');
    
    activateDeviceBtn.addEventListener('click', function() {
      const activationCode = document.getElementById('activationCode').value.trim();
      
      // 简单验证激活码格式
      if (!activationCode || !activationCode.match(/^MK-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/)) {
        activationErrorMsg.textContent = currentLang === 'en' 
          ? "Invalid activation code format. Please check and try again." 
          : "激活码格式无效。请检查后重试。";
        activationError.classList.remove('hidden');
        activationSuccess.classList.add('hidden');
        return;
      }
      
      // 模拟激活过程
      activateDeviceBtn.disabled = true;
      activateDeviceBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>' + (currentLang === 'en' ? 'Activating...' : '激活中...');
      
      setTimeout(() => {
        // 模拟成功激活
        appState.isActivated = true;
        
        // 启用IP绑定表单
        document.getElementById('ipAddress').disabled = false;
        document.getElementById('fullName').disabled = false;
        document.getElementById('hkid').disabled = false;
        document.getElementById('bindIPBtn').disabled = false;
        
        // 显示成功消息
        activationSuccess.classList.remove('hidden');
        activationError.classList.add('hidden');
        
        // 重置按钮
        activateDeviceBtn.disabled = false;
        activateDeviceBtn.textContent = currentLang === 'en' ? 'Device Activated' : '设备已激活';
        activateDeviceBtn.classList.add('bg-monkey-green', 'hover:bg-monkey-green/90');
        activateDeviceBtn.classList.remove('bg-monkey-blue', 'hover:bg-monkey-blue/90');
        
        // 自动填充IP地址
        document.getElementById('ipAddress').value = generateRandomIP();
      }, 1500);
    });
    
    // 自动检测IP地址
    const detectIPBtn = document.getElementById('detectIPBtn');
    detectIPBtn.addEventListener('click', function(e) {
      e.preventDefault();
      if (!appState.isActivated) return;
      
      document.getElementById('ipAddress').value = generateRandomIP();
    });
    
    // 绑定IP地址与实名认证
    const bindIPBtn = document.getElementById('bindIPBtn');
    const ipBindingSuccess = document.getElementById('ipBindingSuccess');
    const ipBindingError = document.getElementById('ipBindingError');
    const ipBindingErrorMsg = document.getElementById('ipBindingErrorMsg');
    
    bindIPBtn.addEventListener('click', function() {
      if (!appState.isActivated) return;
      
      const ipAddress = document.getElementById('ipAddress').value.trim();
      const fullName = document.getElementById('fullName').value.trim();
      const hkid = document.getElementById('hkid').value.trim();
      
      // 验证输入
      if (!ipAddress || !fullName || !hkid) {
        ipBindingErrorMsg.textContent = currentLang === 'en'
          ? "Please fill in all fields."
          : "请填写所有字段。";
        ipBindingError.classList.remove('hidden');
        ipBindingSuccess.classList.add('hidden');
        return;
      }
      
      // 验证香港身份证号码
      if (!validateHKID(hkid)) {
        ipBindingErrorMsg.textContent = currentLang === 'en'
          ? "Invalid Hong Kong ID number format. Please check and try again."
          : "香港身份证号码格式不正确。请检查后重试。";
        ipBindingError.classList.remove('hidden');
        ipBindingSuccess.classList.add('hidden');
        return;
      }
      
      // 模拟绑定过程
      bindIPBtn.disabled = true;
      bindIPBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>' + (currentLang === 'en' ? 'Binding...' : '绑定中...');
      
      setTimeout(() => {
        // 模拟成功绑定
        appState.isIPBound = true;
        
        // 显示成功消息
        ipBindingSuccess.classList.remove('hidden');
        ipBindingError.classList.add('hidden');
        
        // 重置按钮
        bindIPBtn.disabled = false;
        bindIPBtn.textContent = currentLang === 'en' ? 'IP Bound' : 'IP已绑定';
        bindIPBtn.classList.add('bg-monkey-green', 'hover:bg-monkey-green/90');
        bindIPBtn.classList.remove('bg-monkey-yellow', 'hover:bg-monkey-yellow/90');
        
        // 启用物品管理功能
        document.getElementById('itemName').disabled = false;
        document.getElementById('itemCategory').disabled = false;
        document.getElementById('itemDescription').disabled = false;
        document.getElementById('addItemBtn').disabled = false;
        
        // 添加一些示例物品
        addSampleItems();
      }, 1500);
    });
    
    // 添加示例物品
    function addSampleItems() {
      const sampleItems = [
        { id: 1, name: currentLang === 'en' ? 'Wallet' : '钱包', category: 'accessories', description: currentLang === 'en' ? 'Black leather wallet with cards' : '黑色皮质钱包，内含卡片' },
        { id: 2, name: currentLang === 'en' ? 'Keys' : '钥匙', category: 'personal', description: currentLang === 'en' ? 'House and car keys' : '房屋和汽车钥匙' },
        { id: 3, name: currentLang === 'en' ? 'Phone Charger' : '手机充电器', category: 'electronics', description: currentLang === 'en' ? 'USB-C fast charger' : 'USB-C快速充电器' },
        { id: 4, name: currentLang === 'en' ? 'Umbrella' : '雨伞', category: 'accessories', description: currentLang === 'en' ? 'Compact folding umbrella' : '紧凑型折叠雨伞' },
        { id: 5, name: currentLang === 'en' ? 'Water Bottle' : '水瓶', category: 'personal', description: currentLang === 'en' ? 'Insulated stainless steel bottle' : '保温不锈钢水瓶' }
      ];
      
      sampleItems.forEach(item => {
        appState.items.push(item);
        appState.usedStorageSlots++;
      });
      
      renderItems();
      updateStorageStatus();
      updateAvailableItemsCount();
    }
    
    // 渲染物品列表
    function renderItems() {
      const itemsList = document.getElementById('itemsList');
      const emptyState = document.getElementById('emptyState');
      const availableItemsList = document.getElementById('availableItemsList');
      const noAvailableItems = document.getElementById('noAvailableItems');
      
      // 清空列表
      itemsList.innerHTML = '';
      availableItemsList.innerHTML = '';
      
      if (appState.items.length === 0) {
        emptyState.classList.remove('hidden');
        noAvailableItems.classList.remove('hidden');
        return;
      }
      
      emptyState.classList.add('hidden');
      noAvailableItems.classList.add('hidden');
      
      // 渲染物品管理列表
      appState.items.forEach(item => {
        const categoryColors = {
          'electronics': 'monkey-blue',
          'clothing': 'monkey-yellow',
          'accessories': 'purple-500',
          'documents': 'red-500',
          'personal': 'green-500',
          'other': 'gray-500'
        };
        
        const categoryLabels = {
          'electronics': currentLang === 'en' ? 'Electronics' : '电子产品',
          'clothing': currentLang === 'en' ? 'Clothing' : '衣物',
          'accessories': currentLang === 'en' ? 'Accessories' : '配件',
          'documents': currentLang === 'en' ? 'Documents' : '文件',
          'personal': currentLang === 'en' ? 'Personal' : '个人物品',
          'other': currentLang === 'en' ? 'Other' : '其他'
        };
        
        const itemElement = document.createElement('div');
        itemElement.className = 'bg-monkey-gray/50 rounded-lg p-4 border border-monkey-gray hover:border-monkey-blue/50 transition-colors';
        itemElement.dataset.id = item.id;
        itemElement.innerHTML = `
          <div class="flex justify-between items-start mb-2">
            <h4 class="font-medium">${item.name}</h4>
            <span class="text-xs px-2 py-1 rounded-full bg-${categoryColors[item.category]}/20 text-${categoryColors[item.category]}">${categoryLabels[item.category]}</span>
          </div>
          <p class="text-sm text-gray-400 mb-3">${item.description}</p>
          <div class="flex justify-end">
            <button class="text-gray-400 hover:text-red-400 text-sm transition-colors remove-item" data-id="${item.id}">
              <i class="fa fa-trash-o mr-1"></i> ${currentLang === 'en' ? 'Remove' : '移除'}
            </button>
          </div>
        `;
        
        itemsList.appendChild(itemElement);
        
        // 渲染远程取物列表
        const availableItemElement = document.createElement('div');
        availableItemElement.className = 'bg-monkey-gray/50 rounded-lg p-4 border border-monkey-gray hover:border-monkey-blue/50 transition-colors';
        availableItemElement.dataset.id = item.id;
        availableItemElement.innerHTML = `
          <div class="flex items-start">
            <input type="checkbox" class="retrieve-checkbox mt-1 mr-3 text-monkey-blue focus:ring-monkey-blue" data-id="${item.id}" data-name="${item.name}">
            <div class="flex-1">
              <div class="flex justify-between items-start">
                <h4 class="font-medium">${item.name}</h4>
                <span class="text-xs px-2 py-1 rounded-full bg-${categoryColors[item.category]}/20 text-${categoryColors[item.category]}">${categoryLabels[item.category]}</span>
              </div>
              <p class="text-sm text-gray-400 mt-1">${item.description}</p>
            </div>
          </div>
        `;
        
        availableItemsList.appendChild(availableItemElement);
      });
      
      // 为删除按钮添加事件监听
      document.querySelectorAll('.remove-item').forEach(btn => {
        btn.addEventListener('click', function() {
          const itemId = parseInt(this.getAttribute('data-id'));
          removeItem(itemId);
        });
      });
      
      // 为远程取物复选框添加事件监听
      document.querySelectorAll('.retrieve-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const itemId = parseInt(this.getAttribute('data-id'));
          const itemName = this.getAttribute('data-name');
          
          if (this.checked) {
            appState.selectedItemsForRetrieval.push({ id: itemId, name: itemName });
          } else {
            appState.selectedItemsForRetrieval = appState.selectedItemsForRetrieval.filter(item => item.id !== itemId);
          }
          
          updateRetrievalSelection();
        });
      });
    }
    
    // 更新远程取物选择
    function updateRetrievalSelection() {
      const selectedItemsForRetrieval = document.getElementById('selectedItemsForRetrieval');
      const retrieveItemsBtn = document.getElementById('retrieveItemsBtn');
      const clearSelectionBtn = document.getElementById('clearSelectionBtn');
      
      if (appState.selectedItemsForRetrieval.length === 0) {
        selectedItemsForRetrieval.innerHTML = `<p class="text-gray-500 text-center py-4">${currentLang === 'en' ? 'Please select items to retrieve from the right side' : '请从右侧选择要取出的物品'}</p>`;
        retrieveItemsBtn.disabled = true;
        return;
      }
      
      let itemsHTML = '<ul class="space-y-2">';
      appState.selectedItemsForRetrieval.forEach(item => {
        itemsHTML += `<li class="flex items-center justify-between bg-monkey-gray/30 p-2 rounded">
          <span>${item.name}</span>
          <button class="text-gray-400 hover:text-red-400 remove-retrieval-item" data-id="${item.id}">
            <i class="fa fa-times"></i>
          </button>
        </li>`;
      });
      itemsHTML += '</ul>';
      
      selectedItemsForRetrieval.innerHTML = itemsHTML;
      retrieveItemsBtn.disabled = false;
      
      // 为移除按钮添加事件监听
      document.querySelectorAll('.remove-retrieval-item').forEach(btn => {
        btn.addEventListener('click', function() {
          const itemId = parseInt(this.getAttribute('data-id'));
          appState.selectedItemsForRetrieval = appState.selectedItemsForRetrieval.filter(item => item.id !== itemId);
          
          // 取消对应的复选框
          const checkbox = document.querySelector(`.retrieve-checkbox[data-id="${itemId}"]`);
          if (checkbox) checkbox.checked = false;
          
          updateRetrievalSelection();
        });
      });
    }
    
    // 移除物品
    function removeItem(itemId) {
      appState.items = appState.items.filter(item => item.id !== itemId);
      appState.usedStorageSlots--;
      
      // 如果物品在远程取物选择中，也移除它
      appState.selectedItemsForRetrieval = appState.selectedItemsForRetrieval.filter(item => item.id !== itemId);
      
      renderItems();
      updateStorageStatus();
      updateAvailableItemsCount();
      updateRetrievalSelection();
      
      // 显示成功消息
      showToast(currentLang === 'en' ? 'Item removed successfully!' : '物品移除成功！', 'success');
    }
    
    // 添加物品表单
    const itemForm = document.getElementById('itemForm');
    const addItemBtn = document.getElementById('addItemBtn');
    const storageFullError = document.getElementById('storageFullError');
    
    itemForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      if (!appState.isIPBound) {
        showToast(currentLang === 'en' ? 'Please complete device activation first.' : '请先完成设备激活。', 'error');
        return;
      }
      
      // 检查存储空间
      if (appState.usedStorageSlots >= appState.totalStorageSlots) {
        storageFullError.classList.remove('hidden');
        return;
      }
      
      storageFullError.classList.add('hidden');
      
      const itemName = document.getElementById('itemName').value.trim();
      const itemCategory = document.getElementById('itemCategory').value;
      const itemDescription = document.getElementById('itemDescription').value.trim();
      
      if (!itemName) {
        showToast(currentLang === 'en' ? 'Please enter item name.' : '请输入物品名称。', 'error');
        return;
      }
      
      // 创建新物品
      const newItem = {
        id: Date.now(), // 使用时间戳作为ID
        name: itemName,
        category: itemCategory,
        description: itemDescription || (currentLang === 'en' ? 'No description' : '无描述')
      };
      
      // 添加到状态
      appState.items.push(newItem);
      appState.usedStorageSlots++;
      
      // 重新渲染列表
      renderItems();
      
      // 更新状态
      updateStorageStatus();
      updateAvailableItemsCount();
      
      // 重置表单
      itemForm.reset();
      
      // 显示成功消息
      showToast(currentLang === 'en' ? 'Item added successfully!' : '物品添加成功！', 'success');
    });
    
    // 购买存储格功能
    const purchaseButtons = document.querySelectorAll('.purchase-btn');
    const purchaseModal = document.getElementById('purchaseModal');
    const closePurchaseModal = document.getElementById('closePurchaseModal');
    const cancelPurchase = document.getElementById('cancelPurchase');
    const confirmPurchase = document.getElementById('confirmPurchase');
    const purchasePlanName = document.getElementById('purchasePlanName');
    const purchasePlanDetails = document.getElementById('purchasePlanDetails');
    const purchasePlanPrice = document.getElementById('purchasePlanPrice');
    
    let selectedPlan = null;
    let selectedPlanSlots = 0;
    let selectedPlanPrice = 0;
    
    purchaseButtons.forEach(button => {
      button.addEventListener('click', function() {
        selectedPlanSlots = parseInt(this.getAttribute('data-plan'));
        selectedPlanPrice = parseInt(this.getAttribute('data-price'));
        
        // 更新模态框内容
        if (selectedPlanSlots === 5) {
          purchasePlanName.textContent = currentLang === 'en' ? 'Basic Plan' : '基础套餐';
          purchasePlanDetails.textContent = currentLang === 'en' ? '5 additional storage slots' : '5 个额外存储格';
        } else if (selectedPlanSlots === 13) {
          purchasePlanName.textContent = currentLang === 'en' ? 'Advanced Plan' : '进阶套餐';
          purchasePlanDetails.textContent = currentLang === 'en' ? '13 additional storage slots' : '13 个额外存储格';
        } else if (selectedPlanSlots === 30) {
          purchasePlanName.textContent = currentLang === 'en' ? 'Premium Plan' : '高级套餐';
          purchasePlanDetails.textContent = currentLang === 'en' ? '30 additional storage slots' : '30 个额外存储格';
        }
        
        purchasePlanPrice.textContent = `$${selectedPlanPrice} ${currentLang === 'en' ? 'HKD' : 'HKD'}`;
        
        // 显示模态框
        purchaseModal.classList.remove('hidden');
      });
    });
    
    // 关闭购买模态框
    function closePurchaseModalFunc() {
      purchaseModal.classList.add('hidden');
    }
    
    closePurchaseModal.addEventListener('click', closePurchaseModalFunc);
    cancelPurchase.addEventListener('click', closePurchaseModalFunc);
    
    // 确认购买
    confirmPurchase.addEventListener('click', function() {
      // 模拟购买过程
      confirmPurchase.disabled = true;
      confirmPurchase.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>' + (currentLang === 'en' ? 'Processing...' : '处理中...');
      
      setTimeout(() => {
        // 增加存储格
        appState.totalStorageSlots += selectedPlanSlots;
        appState.purchasedPlans.push({
          slots: selectedPlanSlots,
          price: selectedPlanPrice,
          date: new Date().toISOString()
        });
        
        // 更新状态
        updateStorageStatus();
        
        // 关闭模态框
        closePurchaseModalFunc();
        
        // 重置按钮
        confirmPurchase.disabled = false;
        confirmPurchase.innerHTML = currentLang === 'en' ? 'Confirm Purchase' : '确认购买';
        
        // 显示成功消息
        showToast(currentLang === 'en' ? 'Purchase successful! Storage slots have been added to your account.' : '购买成功！存储格已添加到您的账户。', 'success');
      }, 2000);
    });
    
    // 远程取物功能
    const retrieveItemsBtn = document.getElementById('retrieveItemsBtn');
    const clearSelectionBtn = document.getElementById('clearSelectionBtn');
    const retrieveSuccess = document.getElementById('retrieveSuccess');
    const retrieveError = document.getElementById('retrieveError');
    
    retrieveItemsBtn.addEventListener('click', function() {
      if (appState.selectedItemsForRetrieval.length === 0) return;
      
      // 确认对话框
      const confirmMessage = currentLang === 'en' 
        ? `Are you sure you want to retrieve ${appState.selectedItemsForRetrieval.length} item(s) from your Monkey Pocket?`
        : `确定要从您的Monkey Pocket中取出 ${appState.selectedItemsForRetrieval.length} 件物品吗？`;
      
      if (!confirm(confirmMessage)) return;
      
      // 模拟远程取物过程
      retrieveItemsBtn.disabled = true;
      retrieveItemsBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>' + (currentLang === 'en' ? 'Retrieving...' : '正在取出...');
      retrieveSuccess.classList.add('hidden');
      retrieveError.classList.add('hidden');
      
      setTimeout(() => {
        // 模拟成功
        const successRate = Math.random();
        
        if (successRate > 0.2) { // 80% 成功率
          // 从物品列表中移除取出的物品
          appState.selectedItemsForRetrieval.forEach(selectedItem => {
            appState.items = appState.items.filter(item => item.id !== selectedItem.id);
            appState.usedStorageSlots--;
          });
          
          // 清空选择
          appState.selectedItemsForRetrieval = [];
          
          // 更新UI
          renderItems();
          updateStorageStatus();
          updateAvailableItemsCount();
          updateRetrievalSelection();
          
          // 显示成功消息
          retrieveSuccess.classList.remove('hidden');
          retrieveError.classList.add('hidden');
        } else {
          // 显示错误消息
          retrieveError.classList.remove('hidden');
          retrieveSuccess.classList.add('hidden');
        }
        
        // 重置按钮
        retrieveItemsBtn.disabled = false;
        retrieveItemsBtn.innerHTML = '<i class="fa fa-download mr-2"></i>' + (currentLang === 'en' ? 'Retrieve Items' : '取出物品');
      }, 2000);
    });
    
    // 清空选择
    clearSelectionBtn.addEventListener('click', function() {
      appState.selectedItemsForRetrieval = [];
      
      // 取消所有复选框
      document.querySelectorAll('.retrieve-checkbox').forEach(checkbox => {
        checkbox.checked = false;
      });
      
      updateRetrievalSelection();
    });
    
    // 显示Toast通知
    function showToast(message, type = 'success') {
      // 创建Toast元素
      const toast = document.createElement('div');
      toast.className = `fixed top-24 right-4 z-50 px-4 py-3 rounded-lg shadow-lg transform transition-all duration-300 translate-x-full ${type === 'success' ? 'bg-monkey-green/90' : 'bg-monkey-red/90'}`;
      toast.innerHTML = `
        <div class="flex items-center">
          <i class="fa ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} mr-3"></i>
          <span>${message}</span>
        </div>
      `;
      
      document.body.appendChild(toast);
      
      // 显示Toast
      setTimeout(() => {
        toast.classList.remove('translate-x-full');
        toast.classList.add('translate-x-0');
      }, 10);
      
      // 3秒后隐藏并移除Toast
      setTimeout(() => {
        toast.classList.remove('translate-x-0');
        toast.classList.add('translate-x-full');
        
        setTimeout(() => {
          document.body.removeChild(toast);
        }, 300);
      }, 3000);
    }
    
    // 初始化应用程序
    function initApp() {
      // 设置默认语言
      switchLanguage('zh');
      
      // 更新存储状态
      updateStorageStatus();
      
      // 禁用表单字段（直到激活完成）
      document.getElementById('ipAddress').disabled = true;
      document.getElementById('fullName').disabled = true;
      document.getElementById('hkid').disabled = true;
      document.getElementById('bindIPBtn').disabled = true;
      document.getElementById('itemName').disabled = true;
      document.getElementById('itemCategory').disabled = true;
      document.getElementById('itemDescription').disabled = true;
      document.getElementById('addItemBtn').disabled = true;
      
      // 初始渲染
      renderItems();
      updateRetrievalSelection();
    }
    
    // 页面加载完成后初始化应用
    window.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>
